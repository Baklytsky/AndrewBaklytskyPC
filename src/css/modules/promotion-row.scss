/*================ Promotion Row ================*/
.promotion-row {
  background: var(--bg);
}

.promotion-row__inner {
  @include media-query ($small) {
    overflow: hidden;
    margin: 0 calc(var(--gutter-mobile) * -1);
  }
}

.promotion-row__grid {
  grid-template-columns: minmax(0, 1fr);

  @include media-query ($medium-up) {
    display: grid;
    gap: var(--grid-gutter);
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

.promotion-row__grid.grid--mobile {
  @include media-query ($small) {
    grid-template-columns: minmax(0, 1fr);
    grid-template-rows: auto;
  }
}

.promotion-row__item {
  width: 100%;
  min-height: var(--min-height);
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg);
  color: var(--text);
  margin-right: 0;
  overflow: hidden;

  @include media-query ($medium) {
    &:not(:last-child) {
      margin-top: 0;
    }
  }

  @include media-query ($small) {
    min-height: 0;
  }
}

.carousel--mobile .promotion-row__item.carousel__item {
  @include media-query ($small) {
    width: var(--item-width-mobile);
    display: flex;
  }
}

.promotion-row__item__link {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  z-index: 5;
}

.promotion-row__item__image-bg {
  display: flex;
  align-items: center;
  justify-content: center;
}

.promotion-row__item__content {
  width: 100%;
  padding: var(--inner);
  position: relative;
  z-index: 5;

  @include media-query ($small) {
    padding: calc(var(--inner) * 1.5);
  }
}
.promotion-row__item__link ~ .promotion-row__item__content { pointer-events: none; }
.promotion-row__item__link ~ .promotion-row__item__content a { pointer-events: auto; }

.promotion-row__item--1 { grid-area: column1; }
.promotion-row__item--2 { grid-area: column2; }
.promotion-row__item--3 { grid-area: column3; }
.promotion-row__item--4 { grid-area: column4; }

.promotion-row__inner--1 {
  @include media-query ($small) {
    margin: 0;
  }
}
.promotion-row__inner--1 .promotion-row__grid {
  display: block;

  @include media-query ($small) {
    padding: 0;
  }
}
.promotion-row__inner--1 .carousel--mobile {
  @include media-query ($small) {
    padding: 0;
    overflow: visible;
    gap: 0;
  }
}

.promotion-row__inner--1 .promotion-row__item.carousel__item,
.promotion-row__inner--1 .promotion-row__item { width: 100%; }

.promotion-row__inner--2 .promotion-row__grid {
  grid-template-areas: 'column1' 'column2';

  @include media-query ($medium-up) {
    grid-template-areas: 'column1 column1 column2 column2';
  }
}

.promotion-row__inner--3 .promotion-row__grid {
  grid-template-areas: 'column1' 'column2' 'column3';

  @include media-query ($medium-up) {
    grid-template-columns: repeat(12, minmax(0, 1fr));
    grid-template-areas: 'column1 column1 column1 column1 column2 column2 column2 column2 column3 column3 column3 column3';
  }
}

.promotion-row__inner--4 .promotion-row__grid {
  grid-template-areas: 'column1' 'column2' 'column3' 'column4';

  @include media-query ($medium-up) {
    grid-template-areas: 'column1 column2 column3 column4';
  }
}

.promotion-row__inner--2 .promotion-row__grid--enlarge-1 {
  @include media-query ($large-up) {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    grid-template-areas: 'column1 column1 column2';
  }
}
.promotion-row__inner--2 .promotion-row__grid--enlarge-2 {
  @include media-query ($large-up) {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    grid-template-areas: 'column1 column2 column2';
  }
}

.promotion-row__inner--3 .promotion-row__grid--enlarge-1 {
  @include media-query ($large-up) {
    grid-template-columns: repeat(4, minmax(0, 1fr));
    grid-template-areas: 'column1 column1 column2 column3';
  }
}
.promotion-row__inner--3 .promotion-row__grid--enlarge-2 {
  @include media-query ($large-up) {
    grid-template-columns: repeat(4, minmax(0, 1fr));
    grid-template-areas: 'column1 column2 column2 column3';
  }
}
.promotion-row__inner--3 .promotion-row__grid--enlarge-3 {
  @include media-query ($large-up) {
    grid-template-columns: repeat(4, minmax(0, 1fr));
    grid-template-areas: 'column1 column2 column3 column3';
  }
}

.promotion-row__inner--4 .promotion-row__grid--enlarge-1 {
  @include media-query ($medium-up) {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    grid-template-areas: 'column1 column1 column1'
      'column2 column3 column4';
  }
}
.promotion-row__inner--4 .promotion-row__grid--enlarge-2 {
  @include media-query ($medium-up) {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    grid-template-areas: 'column2 column2 column2'
      'column1 column3 column4';
  }
}
.promotion-row__inner--4 .promotion-row__grid--enlarge-3 {
  @include media-query ($medium-up) {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    grid-template-areas: 'column1 column2 column4'
      'column3 column3 column3';
  }
}
.promotion-row__inner--4 .promotion-row__grid--enlarge-4 {
  @include media-query ($medium-up) {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    grid-template-areas: 'column1 column2 column3'
      'column4 column4 column4';
  }
}

.promotion-row__item__content p { margin: 0 0 calc(var(--inner) / 2); }

.promotion-row__item__heading {
  color: var(--text);
  margin-bottom: calc(var(--inner) / 2);
  line-height: 1.2;

  &.text-highlight-wrapper--circle { z-index: -1; }
}

.promotion-row__inner--4 .promotion-row__grid--enlarge-none .promotion-row__item__heading {
  @include media-query($large-down) {
    font-size: calc(1.4rem * var(--adjust-heading));
  }

  @include media-query($small) {
    font-size: calc(1.25rem * var(--adjust-heading));
  }
}

.promotion-row__inner--4 .promotion-row__grid--enlarge-none .promotion-row__item__heading sup {
  @include media-query($large-down) {
    font-size: calc(0.6rem * var(--adjust-heading));
  }

  @include media-query($small) {
    font-size: calc(0.5rem * var(--adjust-heading));
  }
}

.promotion-row__inner--4 .promotion-row__grid--enlarge-none .promotion-row__item__heading small {
  @include media-query($large-down) {
    font-size: calc(0.60rem * var(--adjust-heading));
    margin-left: calc(-0.80rem * var(--adjust-heading));
  }

  @include media-query($small) {
    font-size: calc(0.5rem * var(--adjust-heading));
    margin-left: calc(-0.75rem * var(--adjust-heading));
  }
}

.promotion-row__inner--4 .carousel--mobile {
  @include media-query ($medium-down) {
    --item-width-mobile: calc((var(--wrapper-width) - var(--grid-gutter)) / 2.2);
    display: flex;
    flex-flow: row nowrap;
    justify-content: flex-start;
    gap: normal;
    margin: 0;
    overflow-x: scroll;
    overflow-y: hidden;
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    scroll-padding: var(--gutter-mobile);
    padding-left: var(--gutter-mobile);
    @include hide-scrollbar;

    .grid__item,
    .carousel__item {
      float: none;
      flex: 0 0 auto;
      scroll-snap-align: start;
      margin-right: var(--grid-gutter);
      padding-bottom: 0;
      width: var(--item-width-mobile);

      &:last-child { margin-right: 0; }
    }

    &:after {
      content: '';
      display: block;
      position: relative;
      padding-right: var(--gutter-mobile);
    }
  }

  @include media-query ($small) {
    --item-width-mobile: calc(var(--wrapper-width) - var(--grid-gutter));
  }
}

.promotion-row__inner--4 .promotion-row__grid--enlarge-none.grid--mobile {
  @include media-query ($medium) {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    grid-template-areas: 'column1 column2' 'column3 column4';
  }
}

.promotion-row__item__heading.text-highlight-wrapper--squiggle .text-highlight__icon { bottom: -5px; }
.promotion-row__item__heading.text-highlight-wrapper--squiggle { margin-bottom: calc(var(--heading-margin) + 5px); }

.promotion-row__item__heading sup {
  top: -1.1em;
  font-size: calc(0.65rem * var(--adjust-heading));
  line-height: 1;
  margin-left: 5px;

  @include media-query($large-down) {
    top: -1em;
    font-size: calc(0.60rem * var(--adjust-heading));
  }

  @include media-query($small) {
    font-size: calc(0.5rem * var(--adjust-heading));
  }
}

.promotion-row__item__heading small {
  font-size: calc(0.65rem * var(--adjust-heading));
  margin-left: calc(-0.85rem * var(--adjust-heading));

  @include media-query($large-down) {
    font-size: calc(0.6rem * var(--adjust-heading));
  }

  @include media-query($small) {
    font-size: calc(0.5rem * var(--adjust-heading));
    margin-left: calc(-0.75rem * var(--adjust-heading));
  }
}

.promotion-row__item-description { margin-bottom: var(--inner); }

.promotion-row__item__button {
  margin-left: 0;
  margin-right: 0;
}

.promotion-row__item__button:not(:last-child) { margin-bottom: calc(var(--inner) / 2); }

.promotion-row__item__content > :last-child { margin-bottom: 0; }
